{"template":"__react_static_root__/src/pages/documentation","sharedHashesByProp":{},"data":{"className":"/inline-type-conversion","data":"# Inline Type Conversion\r\n\r\nIf you don't want to write a full `ITypeConverter` implementation, you can specify a function that will do the same thing.\r\n\r\n## Reading\r\n\r\n###### Data\r\n\r\n```\r\nId,Name,Json\r\n1,one,\"{ \"\"Foo\"\": \"\"Bar\"\" }\"\r\n```\r\n\r\n###### Example\r\n\r\n```cs\r\nvoid Main()\r\n{\r\n    using (var reader = new StreamReader(\"path\\\\to\\\\file.csv\"))\r\n    using (var csv = new CsvReader(reader, CultureInfo.InvariantCulture))\r\n    {\r\n        csv.Configuration.RegisterClassMap<FooMap>();\r\n        csv.GetRecords<Foo>().ToList().Dump();\r\n    }\r\n}\r\n\r\npublic class Foo\r\n{\r\n    public int Id { get; set; }\r\n    public string Name { get; set; }\r\n    public Json Json { get; set; }\r\n}\r\n\r\npublic class Json\r\n{\r\n    public string Foo { get; set; }\r\n}\r\n\r\npublic class FooMap : ClassMap<Foo>\r\n{\r\n    public FooMap()\r\n    {\r\n        Map(m => m.Id);\r\n        Map(m => m.Name);\r\n        Map(m => m.Json).ConvertUsing(row => JsonConvert.DeserializeObject<Json>(row.GetField(\"Json\")));\r\n    }\r\n}\r\n```\r\n\r\n## Writing\r\n\r\n###### Example\r\n\r\n```cs\r\nvoid Main()\r\n{\r\n\tvar records = new List<Foo>\r\n\t{\r\n\t\tnew Foo { Id = 1, Name = \"one\" }\r\n\t};\r\n\t\r\n\tusing (var writer = new StreamWriter(\"path\\\\to\\\\file.csv\"))\r\n\tusing (var csv = new CsvWriter(writer, CultureInfo.InvariantCulture))\r\n\t{\r\n\t\tcsv.Configuration.RegisterClassMap<FooMap>();\r\n\t\tcsv.WriteRecords(records);\r\n\t\t\r\n\t\twriter.ToString().Dump();\r\n\t}\r\n}\r\n\r\npublic class Foo\r\n{\r\n\tpublic int Id { get; set; }\r\n\tpublic string Name { get; set; }\r\n\tpublic Json Json { get; set; }\r\n}\r\n\r\npublic class Json\r\n{\r\n\tpublic string Foo { get; set; }\r\n}\r\n\r\npublic class FooMap : ClassMap<Foo>\r\n{\r\n\tpublic FooMap()\r\n\t{\r\n\t\tMap(m => m.Id);\r\n\t\tMap(m => m.Name);\r\n\t\tMap(m => m.Json).ConvertUsing(o => JsonConvert.SerializeObject(o));\r\n\t}\r\n}\r\n```\r\n\r\n###### Output\r\n\r\n```\r\nId,Name,Json\r\n1,one,\"{\"\"Id\"\":1,\"\"Name\"\":\"\"one\"\",\"\"Json\"\":null}\"\r\n```\r\n","toc":{"title":"Examples","path":"examples","children":[{"title":"Prerequisites","path":"examples/prerequisites","children":[{"title":"Using and Dispose","path":"examples/prerequisites/using-dispose"},{"title":"Reading and Writing Files","path":"examples/prerequisites/reading-writing-files"},{"title":"Streams","path":"examples/prerequisites/streams"}]},{"title":"Reading","path":"examples/reading","children":[{"title":"Get Class Records","path":"examples/reading/get-class-records"},{"title":"Get Dynamic Records","path":"examples/reading/get-dynamic-records"},{"title":"Get Anonymous Type Records","path":"examples/reading/get-anonymous-type-records"},{"title":"Enumerate Class Records","path":"examples/reading/enumerate-class-records"},{"title":"Reading by Hand","path":"examples/reading/reading-by-hand"},{"title":"Reading Multiple Data Sets","path":"examples/reading/reading-multiple-data-sets"},{"title":"Reading Multiple Record Types","path":"examples/reading/reading-multiple-record-types"}]},{"title":"Writing","path":"examples/writing","children":[{"title":"Write Class Objects","path":"examples/writing/write-class-objects"},{"title":"Write Dynamic Objects","path":"examples/writing/write-dynamic-objects"},{"title":"Write Anonymous Type Objects","path":"examples/writing/write-anonymous-type-objects"}]},{"title":"Configuration","path":"examples/configuration","children":[{"title":"Class Maps","path":"examples/configuration/class-maps","children":[{"title":"Mapping Properties","path":"examples/configuration/class-maps/mapping-properties"},{"title":"Mapping by Name","path":"examples/configuration/class-maps/mapping-by-name"},{"title":"Mapping by Alternate Names","path":"examples/configuration/class-maps/mapping-by-alternate-names"},{"title":"Mapping Duplicate Names","path":"examples/configuration/class-maps/mapping-duplicate-names"},{"title":"Mapping by Index","path":"examples/configuration/class-maps/mapping-by-index"},{"title":"Auto Mapping","path":"examples/configuration/class-maps/auto-mapping"},{"title":"Ignoring Properties","path":"examples/configuration/class-maps/ignoring-properties"},{"title":"Constant Value","path":"examples/configuration/class-maps/constant-value"},{"title":"Type Conversion","path":"examples/configuration/class-maps/type-conversion"},{"title":"Inline Type Conversion","path":"examples/configuration/class-maps/inline-type-conversion"},{"title":"Optional Maps","path":"examples/configuration/class-maps/optional-maps"},{"title":"Validation","path":"examples/configuration/class-maps/validation"}]},{"title":"Attributes","path":"examples/configuration/attributes"}]},{"title":"Type Conversion","path":"examples/type-conversion"},{"title":"DataTable","path":"examples/data-table"}]}},"path":"examples/configuration/class-maps/inline-type-conversion"}
